vc_hook: MACRO
IF DEF(_RED_VC) || DEF(_BLUE_VC)
.VC_\1::
ENDC
ENDM

vc_patch: MACRO
IF DEF(_RED_VC) || DEF(_BLUE_VC)
	ASSERT !DEF(CURRENT_VC_PATCH), "Already started a vc_patch"
CURRENT_VC_PATCH EQUS "\1"
.VC_{CURRENT_VC_PATCH}::
ENDC
ENDM

vc_patch_end: MACRO
IF DEF(_RED_VC) || DEF(_BLUE_VC)
	ASSERT DEF(CURRENT_VC_PATCH), "No vc_patch started"
.VC_{CURRENT_VC_PATCH}_End::
	PURGE CURRENT_VC_PATCH
ENDC
ENDM

vc_assert: MACRO
IF DEF(_RED_VC) || DEF(_BLUE_VC)
	ASSERT \#
ENDC
ENDM

vc_red_hook: MACRO
IF DEF(_RED_VC)
.VC_\1::
ENDC
ENDM

vc_red_patch: MACRO
IF DEF(_RED_VC)
	ASSERT !DEF(CURRENT_VC_PATCH), "Already started a vc_patch"
CURRENT_VC_PATCH EQUS "\1"
.VC_{CURRENT_VC_PATCH}::
ENDC
ENDM

vc_red_patch_end: MACRO
IF DEF(_RED_VC)
	ASSERT DEF(CURRENT_VC_PATCH), "No vc_patch started"
.VC_{CURRENT_VC_PATCH}_End::
	PURGE CURRENT_VC_PATCH
ENDC
ENDM

vc_red_assert: MACRO
IF DEF(_RED_VC)
	ASSERT \#
ENDC
ENDM

vc_blue_hook: MACRO
IF DEF(_BLUE_VC)
.VC_\1::
ENDC
ENDM

vc_blue_patch: MACRO
IF DEF(_BLUE_VC)
	ASSERT !DEF(CURRENT_VC_PATCH), "Already started a vc_patch"
CURRENT_VC_PATCH EQUS "\1"
.VC_{CURRENT_VC_PATCH}::
ENDC
ENDM

vc_blue_patch_end: MACRO
IF DEF(_BLUE_VC)
	ASSERT DEF(CURRENT_VC_PATCH), "No vc_patch started"
.VC_{CURRENT_VC_PATCH}_End::
	PURGE CURRENT_VC_PATCH
ENDC
ENDM

vc_blue_assert: MACRO
IF DEF(_BLUE_VC)
	ASSERT \#
ENDC
ENDM
